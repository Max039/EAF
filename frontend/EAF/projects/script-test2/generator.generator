import "definitions" from de.eaf.bridge;
import "definitions" from de.evoal.generator.generator;
import "definitions" from de.evoal.core.math;

import "data" from 'generator';

module 'generator' {
  pipeline 'main-pipeline' [
    step {
      component 'normal-distribution' {
        'σ' := 5.12;
        'μ' := 0;
      }
      writes [data 'x:0'];
    }
    step {
      component 'ackley' {
        'a' := 20.0;
        'b' := 0.2;
        'c' := 2*'PI';
      }
      reads [data 'x:0'];
      writes [data 'y:0'];
    }
  ]
  write "ackley.json" with 1000 samples from executing [pipeline 'main-pipeline'];
}